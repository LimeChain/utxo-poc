// @ts-ignore
import { Noir } from '@noir-lang/noir_js';
import { CompiledProgram } from '@noir-lang/noir_wasm';
import NoirUseCases from '../../use-cases/NoirUseCases';
import { BarretenbergBackend } from '@noir-lang/backend_barretenberg';
import UtxoTransaction from '../../../utxo/entities/UtxoTransaction';
import NullifierNode from '../../../nullifier/entities/NullifierNode';
import UtxoStore from '../../../utxo/presentation/state/UtxoStore';
import NullifierStore from '../../../nullifier/presentation/state/NullifierStore';
import { NAMES, NAME_AGGREGATORTEST } from '../../entities/NoirCircuits';
import { NAME_UTXO_INPUTS, NAME_UTXO_OUTPUTS, NAME_UTXO_OWNERSHIP, NAME_UTXO_SIGNATURE } from '../../../utxo/entities/UtxoCircuits';
import { Artifacts } from '../../../noir/entities/Artifacts';
import { NAME_LOW_NULLIFIER } from '../../../nullifier/entities/NullifierCircuits';
import FS from 'fs';
import Path from 'path';
import NoirArtifacts from '../../utilities/NoirArtifacts';

export default class NoirStore {

    utxoStore: UtxoStore;
    nullifierStore: NullifierStore;
    noirUseCases: NoirUseCases;

    programs: Map<string, CompiledProgram> = new Map();
    backends: Map<string, BarretenbergBackend> = new Map();
    noirs: Map<string, Noir> = new Map();

    constructor(utxoStore: UtxoStore, nullifierStore: NullifierStore, noirUseCases: NoirUseCases) {
        this.utxoStore = utxoStore;
        this.nullifierStore = nullifierStore;
        this.noirUseCases = noirUseCases;
    }

    async init(): Promise<void> {
        await this.loadCircuits();
        await this.loadBackends();
        await this.loadNoirs();
    }

    getProgram(name: string): CompiledProgram {
        return this.programs.get(name)!;
    }

    getBackend(name: string): BarretenbergBackend {
        return this.backends.get(name)!;
    }

    getNoir(name: string): Noir {
        return this.noirs.get(name)!;
    }

    async loadCircuits(): Promise<void> {
        for (let i = 0; i < NAMES.length; ++i) {
            this.programs.set(NAMES[i], await this.noirUseCases.getCircuit(NAMES[i]));
        }
    }

    async loadBackends(): Promise<void> {
        for (let i = 0; i < NAMES.length; ++i) {
            this.backends.set(NAMES[i], await this.noirUseCases.getBackend(this.getProgram(NAMES[i])));
        }
    }

    async loadNoirs(): Promise<void> {
        for (let i = 0; i < NAMES.length; ++i) {
            this.noirs.set(NAMES[i], await this.noirUseCases.getNoir(this.getProgram(NAMES[i]), this.getBackend(NAMES[i])));
        }
    }

    async executeCircuits(utxoTransaction: UtxoTransaction): Promise<void> {
        const inputNullifierNode = NullifierNode.newInstance(utxoTransaction.inputs[0].hash);
        const lowNullifierNode = this.nullifierStore.nullifierTree.getLowNullifier(inputNullifierNode);

        console.log("        utxo-signature");
        // const utxoSignatureIntermediateProofArtifacts = await this.utxoStore.generateUtxoSignatureArtifacts(utxoTransaction, this.getBackend(NAME_UTXO_SIGNATURE), this.getNoir(NAME_UTXO_SIGNATURE));
        // console.log(JSON.stringify(utxoSignatureIntermediateProofArtifacts.proofAsFields.map((n) => '0x' + ("0".repeat(46) + n.substring(2)).slice(-64))));
        const utxoSignatureIntermediateProofArtifacts = {
            proofAsFields: ["0xb5b2e5769bd6357aab687554311e3f39c4", "0x84c829482a8ce08af7f85fa8683f3", "0xf35b2bc36eafc39e8161a22b7d81b7acd5", "0x125a0d7ac344c419cdf80e357991e4", "0xbefdc77d6643d515fbcd2ec4fa09776246", "0x83886b20933904c330120b46372d7", "0xbd968328442727c8da8bfe7dc50e9f98eb", "0x15350c263fd6c50f5938b669fd4335", "0xf3bee4fa7c782fa1d5e2700d6db297f35b", "0x1df946d01e09d8510e778004664b18", "0x4b8f915891ede08f9b4cb730a2c5c138fb", "0x186a19018cc0cb9e5c149f24701c15", "0xc55fd81f83ee3e87673a3279530deca2c", "0x1584327fec970a7ef45ad105e4fba7", "0xeb2a641111ed1c85bb7eb7e64099181864", "0x18822f3f226e4e9529d4ec91cd30e5", "0x2a5cd6ec195a931b3387c086821c4eb7f6", "0x2b49146ffffa95b7a1b0bc7a5a8e38", "0xd01b8874087e1f3edf5ab7d6f2e204e7d8", "0x9f359c7e48131f0679b66ca275902", "0x1a7dd64122d2a23dd032894f0a6ce4feb7", "0x195ecc15f04d9fe848c39af2c3afaa", "0xb1f0e95aac4ad5447a26512a0d51019668", "0x26d7509f9626dd7dec17f71f4230f", "0xba98077420d50f4ef0fde7f69815a49030", "0x1fc17966d61dfaa08427151e587b62", "0x7f3ae3260cc1a103383432e07ddc0df685", "0x16ce3b41c496be73b59417f96ed139", "0xb359c2c21f29133d3dd5a6b3182fd26648", "0x24398f3c56cdc413b3fd1a185cf253", "0xb75dfac99f0044bb26c7d9fe870e1c134e", "0x4dfa3418bfd20219334c719aa7396", "0xd59a6b05e40863dc4464e93e6fe74efbfb", "0x2bf9eba07c647d0c122b95b7424ec7", "0xf584a2f75d0222787b25688f81020315e6", "0x123f27dc38cee8adf823e64cd86a9", "0x440d584bbcd1fc76a7208f6d9952736494", "0x1170b7b6c7a72dcdfe34d48bfa9de8", "0xfb9c15bb5d6f66dce5ed11975140d2a555", "0xc3f9b933e2815bcb0759768d3cedb", "0x6afebaae4def6c40b354124261636cbee3", "0xb8a7b6ee1ce900ed3eba6ff5d84a5", "0x914494d7b09a5ecf08f809d382a323f18c", "0x18c35899dec51503dd29670830c100", "0x19edb1be922618d9c153ac76ee373aaaae0185a4155b8bbdd81d9646e306816d", "0x7fcbfcbdd643e13e0ccad8245bc6ccfa9a5ff7467169712a5f8b923fbd772d5", "0x44242c56e17193d68a6ba48604fb4c7a8564a7a43634260c021cd46bcfebdc4", "0x24da375d866639897cf728cffb49fda0103543820de6e7bcc25c730a6eef3a61", "0xa7b2b39dfee16801a3fe38de668f422813144330ed99b83838ecc595b7c2100", "0x101ed5a53085793a3606b1757bab1b9eb5cd8c230716148b1d3c1a25d198514e", "0x672c5586c34052af0ab8ed410885ee968e5b414b644344fcbc9c5dc5d0b7ba3", "0x208365af543fd920ce76f81edbb3803a6e2440839e0441a7b59f532b2780a59b", "0x1a80b18c9b7a6f5a6d6ab57c1441de9927aa005e67231378e994fcc665d3a5f4", "0x22cd8ad88489c45c5af8fb2b2b612568b5b869789752c4ee0465065b228d535d", "0x956c8328f2e75fcc93b6d2134230ed2485de2ad11fb09cb4ec3c9bb7b7e30a6", "0x1de3c9458e1b1447ad79889884b4810cb4b6fac11e325917f0c2e2298e25a2d2", "0x2c1df9373c0a1166355d4006c1d11ee4eeec99ad50eeb1388d28115f6e9e0201", "0xce4169654715349915d9c1c838a314c38fe6390e0536e4644cfb41db396c5ca", "0x117faa32be0c98e2866be2aa7ca65799e4cbde6da802d37eae646a4ab82868d7", "0x8f8f72b2cb5fa0b689eda70aa7fed0a0c1c98f258ccb7801ea30a88b5c8633", "0xc672ce7e7b08c633bf71f51a3b866285ab83e6649fc8faea65dd652d463f60c", "0x29ab8e6ee4a48f244ffe224fe169d5932db6ff0189497a49c64be17c95130d43", "0x1b39f450c1fad1a8ea2ff2912476a70d023138872153c0228eb67cfaf133f169", "0x2674b21ba506bb42ded7edb45f6186af25cc094bd198594847d22cc4d6907e03", "0x1f7e6b80e3ce13156e9c42e55cfd194fe8daad85bbf9cf2cccd5e369062c376c", "0x2af751ac6b4b1cd96e21fcbf13556e1762d3a054aefe6fa04c17eadd4fe8d030", "0x96fc9b7f249fa8e491c34a4986e74facf88a8f0ea79c6e041702fc1f1da4ee9", "0x291ff74039399f4e4445301689bb5e92165642849a4724947b4f978f0aaa5a95", "0xd9f0bb0438149bf2ab9569bbeac7fddb0c385910c5b5487b459a1aa88addcd6", "0x241c7bdd2fc2f2416d69cbd96a6f107912196264309a88635ccf50d345993167", "0x24de8a16d187d95a60519c52260c519cccd6d3c896597faac3e02a6bdeec6477", "0xf8bd5f427b0a2252c89e3514c0f105a55b08ade547d74217ae645211395168f", "0x2af717f433b72cb8e323f1e209bd793c7d457cf6091d47c3e46c9445ed9800e9", "0x1d064d9aa454e341171d11bdb8bc7fde3ba91c80ab853ba74c913a57a5d41872", "0x24e3f0f1061f1339ec65ec109e68725c4442a785cb140069b2c1a9252a68e753", "0x14b5e1dbb15ef071236f6f78ee8ac09d3e76f5b4610be8f4f86427f32a54d47b", "0x35439ff4ea9d9d502cfa014961131c6a92ed3d6e130580e367bca3beeaaaf00", "0x1b3faf818234f780ab467f7f6cf1303beb978c187d66efbaa4fb326b34d803f6", "0x27b5752535884854645d5e650d51593a33f8993dc98da23cb8bc027663c64872", "0x75c0ca4ba63278122849159c2b14fe66886f71049c69ff4d402bafa470f4384", "0x1dcc697cb5b07e0f848df68e935a3ae7da89ba5a2f4f355ae0372b3a9a1062c3", "0x2573bb82558130d5640c9f1d0386aed011ead974a1b4ac070acf674c14db1282", "0x2247a3074aa40107e83f715c3d099284f359bc7e2abdba33d0c436db314b88e4", "0x205c98d875edcd1d3a9ae98eb1dc52fcbd089bd01c1d77e298cf965c70ea0a80", "0x2a575966351294d53fbde9dcf54e7a531e0c794fde79d9d840078e172a8a9fd9", "0x4d41c0c698ca243743b1c381e5a3f8f1e7", "0x4ac20b4f5028e4f5c505d2a62f280", "0xc2edc11598ecd4ee1841b5e937ddf84e3c", "0xee4f2f287afb7d4b39544da35f3e1", "0x54498a7586e9904c5cc03935e3b7e98d84", "0xf6faa1e257d2f506a3f35dc26d57b", "0x1cc2980a8f27c6496babb1d80a54f1d047", "0x2189734b31cac139852eb5dab8a301"],
            vkAsFields: ["0xeeb2cb5981ed45649abebde081dcff16c8601de4347e7dd1628ba2daac43b7", "0x10000", "0x5", "0x10000", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x3407be944903bf3cadb2facd812e8e4857", "0x88eac61870df725afa2950a10bc85", "0xfc123e836b17698296bdcdd34b875069be", "0x1a82eaf715c5c8cb624adc65bf0979", "0x1a2d0c2e6f0581ce76732c387c0ca157d2", "0x2fb693bf4e03ce2453f0ca0c0b53ba", "0xafd437a53a74581cbeb424e8598fd42119", "0x206a721fdf90476e0c774c79d07776", "0x772f37dd82a77789ec7ed2d6ffed97136f", "0x24aea03962b8b670f85b959f19bbb1", "0x1366e5758b3e8c1273b84c10c1bce3b118", "0x209330dfd281b48b271cf30f26b231", "0x3e22729d14ad366e2426043b44c30abaa7", "0x2518182e1e2fff4104a1d35309a628", "0xb97b704e33fe21d725fb6cae70dae077ef", "0x27691a58c0cfa1d8b4130fa5f3fac3", "0x3f4c334e1792cb1d9ce5e52c374251c51", "0xcd7b218bfd1103ba0d3837dd93b50", "0xbb6c9aef869db7602a5e771772efdc3163", "0x12403c96305d3b184da0bb80a98eba", "0x16e5269787c837f2f567d191cd7aadde", "0x2aa28d2b865ccf2e98929a5d7f2062", "0xa21eb129e3ca17bda0b1394438bcd545ce", "0x179ef3c19b8cfc5a63563e23ad541e", "0x149d36527b45e81aedcd61bb2c89c9f80b", "0x1fe287da546eef40b6e02479795bd9", "0xab365381cc0f6b39d80057d33a20615f33", "0x14fa15b30a6c4d5fa3086e39005048", "0x832d55c2323eeef325f8d37678f3d80ab4", "0xf380552d7a59ed53a005f3d8a2722", "0xd0768915e1bd6c3ba683fb7fa9cfcef9e5", "0x7c0036d06f98907fbd36643aa68e2", "0xe8f8cf9b259448d111183e975828539576", "0x21245d6c0a4d2ff12b21a825f39f30", "0xbfc2e6796e8dfe404675a0cdf6ee77ee7a", "0x16a409532c8a1693536e93b6ce9920", "0x3ef2532d298dbc6b8b41eff2d1ae075a0c", "0xf41ca54e512e3843651651b45c8bd", "0x1d56da095fcfde10adf3959bc8f39d7a78", "0x9d08dd81087e4bcb9b5bb4632a67d", "0xa089c76e8952ac0ed4d16ecca3ead5de5e", "0x19e164565ab1ea2602e8d15cc45a32", "0xd298089b71882cd3df4e7263f9a6be03d5", "0x60495c8f8b0295951b32827aef0a0", "0x4e7466fef16f772f5190d508e1b528495f", "0x279a29e00e52861c79713beeec400c", "0xc064f30b6edc147036230859630553881f", "0x81bcfdb43d2effc1692ff18617fe7", "0x71f1773bfa9ff14169aa3e2d9201feb160", "0x2c2fb55014519156ccf39999b0a6fe", "0x8b3d2dcc8742f03b2b6bcb8e10e9cee484", "0x17aa24f306e7f4295803795c98ee00", "0x6bab8ac9238cc5e929a89e620db076e0e1", "0x243f6ab144385bca94e774558a36ed", "0xc0d157858851703768687e79fa3c5d87f6", "0x272234ee7d502ebfb20d205b6514af", "0x8464cbdac425322b2d3b98a34e8834c14f", "0x6e6d1480535f6e29a6713cd5c4e66", "0xb27b0e702d7d6188d0ad0259936cb3e55f", "0x15c1b7ea4800a867676fc4c79695b5", "0xaabc0c273bd7c77f122e9993c2251f7f4a", "0x30b16cd4d48e7b40d2ac90b515369", "0x8e53701113cc0c09573d1ccdbb99ab49b7", "0x7578950db871ef62bab02e9447329", "0x607de18a29cee6828a7303d33ceb1e2ef0", "0x1bbfe736b28dc8ede22ad6ba3ecec3", "0x37d1fe96d4d91f803026f17ed9a0449907", "0x2e0a348344704012f149db2aed39ea", "0x13e86f6acee195b29fd0e5953728135962", "0x273714e498d7ee7471cf8859c5db41", "0xfffbab8f6b5d56b6c289ab367fd72f242a", "0x2997e7f0a5012a52da8388d912ce58", "0x6d2ef0cc733ccf25157e490ea2abd7f0fa", "0x4ebdf0e916013d64e4f4e4d441373", "0xb28f6a8f44669d54c39f9e34d091356740", "0xc91e3a2d468c8b3198de19b9d0ae", "0xdc199f2d4e5cb6d92e3c62722728590f7b", "0x135965316985fb00f87a1a8c8699d1", "0x7e91706bde64f0650bc7b3fcc5aab5a5ed", "0x1c02ad34d82d9a0cbbdb1b0d3d6775", "0xab5f342420495302c94f45dc806fd63e96", "0x10acbb53d478d6145d8991e95c3f3", "0xb8134a2dcbb4dfbd980043a7061670ad3", "0x21ef997046dc237a7f69c0f735b85", "0xe8263b4b5fb17f215c8c9a844b12702032", "0x9b832d8f15c22354b0c45cf8ba8e8", "0xaad898a712983735f04d991dc7a6c842de", "0x6e874e25b59f5c275e1186c2fb3cb", "0x5f3e06a94e10c4d39684cad266735347ce", "0x1fecd3edff46ed078c3bdc623637e7", "0x22c8e079fecc99140328edcec5be884b9", "0x3605fcc65262ebc63ba6702f48d3"],
            vkHash: "0xfc8dc7212094475eb7e3a0ff3a53349c34faef6790f2fd3a166afc9793f752d",
        }

        // utxoSignatureIntermediateProofArtifacts.proofAsFields = ["0xb5b2e5769bd6357aab687554311e3f39c4", "0x84c829482a8ce08af7f85fa8683f3", "0xf35b2bc36eafc39e8161a22b7d81b7acd5", "0x125a0d7ac344c419cdf80e357991e4", "0xbefdc77d6643d515fbcd2ec4fa09776246", "0x83886b20933904c330120b46372d7", "0xbd968328442727c8da8bfe7dc50e9f98eb", "0x15350c263fd6c50f5938b669fd4335", "0xf3bee4fa7c782fa1d5e2700d6db297f35b", "0x1df946d01e09d8510e778004664b18", "0x4b8f915891ede08f9b4cb730a2c5c138fb", "0x186a19018cc0cb9e5c149f24701c15", "0xc55fd81f83ee3e87673a3279530deca2c", "0x1584327fec970a7ef45ad105e4fba7", "0xeb2a641111ed1c85bb7eb7e64099181864", "0x18822f3f226e4e9529d4ec91cd30e5", "0x2a5cd6ec195a931b3387c086821c4eb7f6", "0x2b49146ffffa95b7a1b0bc7a5a8e38", "0xd01b8874087e1f3edf5ab7d6f2e204e7d8", "0x9f359c7e48131f0679b66ca275902", "0x1a7dd64122d2a23dd032894f0a6ce4feb7", "0x195ecc15f04d9fe848c39af2c3afaa", "0xb1f0e95aac4ad5447a26512a0d51019668", "0x26d7509f9626dd7dec17f71f4230f", "0xba98077420d50f4ef0fde7f69815a49030", "0x1fc17966d61dfaa08427151e587b62", "0x7f3ae3260cc1a103383432e07ddc0df685", "0x16ce3b41c496be73b59417f96ed139", "0xb359c2c21f29133d3dd5a6b3182fd26648", "0x24398f3c56cdc413b3fd1a185cf253", "0xb75dfac99f0044bb26c7d9fe870e1c134e", "0x4dfa3418bfd20219334c719aa7396", "0xd59a6b05e40863dc4464e93e6fe74efbfb", "0x2bf9eba07c647d0c122b95b7424ec7", "0xf584a2f75d0222787b25688f81020315e6", "0x123f27dc38cee8adf823e64cd86a9", "0x440d584bbcd1fc76a7208f6d9952736494", "0x1170b7b6c7a72dcdfe34d48bfa9de8", "0xfb9c15bb5d6f66dce5ed11975140d2a555", "0xc3f9b933e2815bcb0759768d3cedb", "0x6afebaae4def6c40b354124261636cbee3", "0xb8a7b6ee1ce900ed3eba6ff5d84a5", "0x914494d7b09a5ecf08f809d382a323f18c", "0x18c35899dec51503dd29670830c100", "0x19edb1be922618d9c153ac76ee373aaaae0185a4155b8bbdd81d9646e306816d", "0x7fcbfcbdd643e13e0ccad8245bc6ccfa9a5ff7467169712a5f8b923fbd772d5", "0x44242c56e17193d68a6ba48604fb4c7a8564a7a43634260c021cd46bcfebdc4", "0x24da375d866639897cf728cffb49fda0103543820de6e7bcc25c730a6eef3a61", "0xa7b2b39dfee16801a3fe38de668f422813144330ed99b83838ecc595b7c2100", "0x101ed5a53085793a3606b1757bab1b9eb5cd8c230716148b1d3c1a25d198514e", "0x672c5586c34052af0ab8ed410885ee968e5b414b644344fcbc9c5dc5d0b7ba3", "0x208365af543fd920ce76f81edbb3803a6e2440839e0441a7b59f532b2780a59b", "0x1a80b18c9b7a6f5a6d6ab57c1441de9927aa005e67231378e994fcc665d3a5f4", "0x22cd8ad88489c45c5af8fb2b2b612568b5b869789752c4ee0465065b228d535d", "0x956c8328f2e75fcc93b6d2134230ed2485de2ad11fb09cb4ec3c9bb7b7e30a6", "0x1de3c9458e1b1447ad79889884b4810cb4b6fac11e325917f0c2e2298e25a2d2", "0x2c1df9373c0a1166355d4006c1d11ee4eeec99ad50eeb1388d28115f6e9e0201", "0xce4169654715349915d9c1c838a314c38fe6390e0536e4644cfb41db396c5ca", "0x117faa32be0c98e2866be2aa7ca65799e4cbde6da802d37eae646a4ab82868d7", "0x8f8f72b2cb5fa0b689eda70aa7fed0a0c1c98f258ccb7801ea30a88b5c8633", "0xc672ce7e7b08c633bf71f51a3b866285ab83e6649fc8faea65dd652d463f60c", "0x29ab8e6ee4a48f244ffe224fe169d5932db6ff0189497a49c64be17c95130d43", "0x1b39f450c1fad1a8ea2ff2912476a70d023138872153c0228eb67cfaf133f169", "0x2674b21ba506bb42ded7edb45f6186af25cc094bd198594847d22cc4d6907e03", "0x1f7e6b80e3ce13156e9c42e55cfd194fe8daad85bbf9cf2cccd5e369062c376c", "0x2af751ac6b4b1cd96e21fcbf13556e1762d3a054aefe6fa04c17eadd4fe8d030", "0x96fc9b7f249fa8e491c34a4986e74facf88a8f0ea79c6e041702fc1f1da4ee9", "0x291ff74039399f4e4445301689bb5e92165642849a4724947b4f978f0aaa5a95", "0xd9f0bb0438149bf2ab9569bbeac7fddb0c385910c5b5487b459a1aa88addcd6", "0x241c7bdd2fc2f2416d69cbd96a6f107912196264309a88635ccf50d345993167", "0x24de8a16d187d95a60519c52260c519cccd6d3c896597faac3e02a6bdeec6477", "0xf8bd5f427b0a2252c89e3514c0f105a55b08ade547d74217ae645211395168f", "0x2af717f433b72cb8e323f1e209bd793c7d457cf6091d47c3e46c9445ed9800e9", "0x1d064d9aa454e341171d11bdb8bc7fde3ba91c80ab853ba74c913a57a5d41872", "0x24e3f0f1061f1339ec65ec109e68725c4442a785cb140069b2c1a9252a68e753", "0x14b5e1dbb15ef071236f6f78ee8ac09d3e76f5b4610be8f4f86427f32a54d47b", "0x35439ff4ea9d9d502cfa014961131c6a92ed3d6e130580e367bca3beeaaaf00", "0x1b3faf818234f780ab467f7f6cf1303beb978c187d66efbaa4fb326b34d803f6", "0x27b5752535884854645d5e650d51593a33f8993dc98da23cb8bc027663c64872", "0x75c0ca4ba63278122849159c2b14fe66886f71049c69ff4d402bafa470f4384", "0x1dcc697cb5b07e0f848df68e935a3ae7da89ba5a2f4f355ae0372b3a9a1062c3", "0x2573bb82558130d5640c9f1d0386aed011ead974a1b4ac070acf674c14db1282", "0x2247a3074aa40107e83f715c3d099284f359bc7e2abdba33d0c436db314b88e4", "0x205c98d875edcd1d3a9ae98eb1dc52fcbd089bd01c1d77e298cf965c70ea0a80", "0x2a575966351294d53fbde9dcf54e7a531e0c794fde79d9d840078e172a8a9fd9", "0x4d41c0c698ca243743b1c381e5a3f8f1e7", "0x4ac20b4f5028e4f5c505d2a62f280", "0xc2edc11598ecd4ee1841b5e937ddf84e3c", "0xee4f2f287afb7d4b39544da35f3e1", "0x54498a7586e9904c5cc03935e3b7e98d84", "0xf6faa1e257d2f506a3f35dc26d57b", "0x1cc2980a8f27c6496babb1d80a54f1d047", "0x2189734b31cac139852eb5dab8a301"].map((n) => '0x' + ("0".repeat(46) + n.substring(2)).slice(-64));
        // utxoSignatureIntermediateProofArtifacts.proofAsFields = ["0xb5b2e5769bd6357aab687554311e3f39c4", "0x84c829482a8ce08af7f85fa8683f3", "0xf35b2bc36eafc39e8161a22b7d81b7acd5", "0x125a0d7ac344c419cdf80e357991e4", "0xbefdc77d6643d515fbcd2ec4fa09776246", "0x83886b20933904c330120b46372d7", "0xbd968328442727c8da8bfe7dc50e9f98eb", "0x15350c263fd6c50f5938b669fd4335", "0xf3bee4fa7c782fa1d5e2700d6db297f35b", "0x1df946d01e09d8510e778004664b18", "0x4b8f915891ede08f9b4cb730a2c5c138fb", "0x186a19018cc0cb9e5c149f24701c15", "0xc55fd81f83ee3e87673a3279530deca2c", "0x1584327fec970a7ef45ad105e4fba7", "0xeb2a641111ed1c85bb7eb7e64099181864", "0x18822f3f226e4e9529d4ec91cd30e5", "0x2a5cd6ec195a931b3387c086821c4eb7f6", "0x2b49146ffffa95b7a1b0bc7a5a8e38", "0xd01b8874087e1f3edf5ab7d6f2e204e7d8", "0x9f359c7e48131f0679b66ca275902", "0x1a7dd64122d2a23dd032894f0a6ce4feb7", "0x195ecc15f04d9fe848c39af2c3afaa", "0xb1f0e95aac4ad5447a26512a0d51019668", "0x26d7509f9626dd7dec17f71f4230f", "0xba98077420d50f4ef0fde7f69815a49030", "0x1fc17966d61dfaa08427151e587b62", "0x7f3ae3260cc1a103383432e07ddc0df685", "0x16ce3b41c496be73b59417f96ed139", "0xb359c2c21f29133d3dd5a6b3182fd26648", "0x24398f3c56cdc413b3fd1a185cf253", "0xb75dfac99f0044bb26c7d9fe870e1c134e", "0x4dfa3418bfd20219334c719aa7396", "0xd59a6b05e40863dc4464e93e6fe74efbfb", "0x2bf9eba07c647d0c122b95b7424ec7", "0xf584a2f75d0222787b25688f81020315e6", "0x123f27dc38cee8adf823e64cd86a9", "0x440d584bbcd1fc76a7208f6d9952736494", "0x1170b7b6c7a72dcdfe34d48bfa9de8", "0xfb9c15bb5d6f66dce5ed11975140d2a555", "0xc3f9b933e2815bcb0759768d3cedb", "0x6afebaae4def6c40b354124261636cbee3", "0xb8a7b6ee1ce900ed3eba6ff5d84a5", "0x914494d7b09a5ecf08f809d382a323f18c", "0x18c35899dec51503dd29670830c100", "0x19edb1be922618d9c153ac76ee373aaaae0185a4155b8bbdd81d9646e306816d", "0x7fcbfcbdd643e13e0ccad8245bc6ccfa9a5ff7467169712a5f8b923fbd772d5", "0x44242c56e17193d68a6ba48604fb4c7a8564a7a43634260c021cd46bcfebdc4", "0x24da375d866639897cf728cffb49fda0103543820de6e7bcc25c730a6eef3a61", "0xa7b2b39dfee16801a3fe38de668f422813144330ed99b83838ecc595b7c2100", "0x101ed5a53085793a3606b1757bab1b9eb5cd8c230716148b1d3c1a25d198514e", "0x672c5586c34052af0ab8ed410885ee968e5b414b644344fcbc9c5dc5d0b7ba3", "0x208365af543fd920ce76f81edbb3803a6e2440839e0441a7b59f532b2780a59b", "0x1a80b18c9b7a6f5a6d6ab57c1441de9927aa005e67231378e994fcc665d3a5f4", "0x22cd8ad88489c45c5af8fb2b2b612568b5b869789752c4ee0465065b228d535d", "0x956c8328f2e75fcc93b6d2134230ed2485de2ad11fb09cb4ec3c9bb7b7e30a6", "0x1de3c9458e1b1447ad79889884b4810cb4b6fac11e325917f0c2e2298e25a2d2", "0x2c1df9373c0a1166355d4006c1d11ee4eeec99ad50eeb1388d28115f6e9e0201", "0xce4169654715349915d9c1c838a314c38fe6390e0536e4644cfb41db396c5ca", "0x117faa32be0c98e2866be2aa7ca65799e4cbde6da802d37eae646a4ab82868d7", "0x8f8f72b2cb5fa0b689eda70aa7fed0a0c1c98f258ccb7801ea30a88b5c8633", "0xc672ce7e7b08c633bf71f51a3b866285ab83e6649fc8faea65dd652d463f60c", "0x29ab8e6ee4a48f244ffe224fe169d5932db6ff0189497a49c64be17c95130d43", "0x1b39f450c1fad1a8ea2ff2912476a70d023138872153c0228eb67cfaf133f169", "0x2674b21ba506bb42ded7edb45f6186af25cc094bd198594847d22cc4d6907e03", "0x1f7e6b80e3ce13156e9c42e55cfd194fe8daad85bbf9cf2cccd5e369062c376c", "0x2af751ac6b4b1cd96e21fcbf13556e1762d3a054aefe6fa04c17eadd4fe8d030", "0x96fc9b7f249fa8e491c34a4986e74facf88a8f0ea79c6e041702fc1f1da4ee9", "0x291ff74039399f4e4445301689bb5e92165642849a4724947b4f978f0aaa5a95", "0xd9f0bb0438149bf2ab9569bbeac7fddb0c385910c5b5487b459a1aa88addcd6", "0x241c7bdd2fc2f2416d69cbd96a6f107912196264309a88635ccf50d345993167", "0x24de8a16d187d95a60519c52260c519cccd6d3c896597faac3e02a6bdeec6477", "0xf8bd5f427b0a2252c89e3514c0f105a55b08ade547d74217ae645211395168f", "0x2af717f433b72cb8e323f1e209bd793c7d457cf6091d47c3e46c9445ed9800e9", "0x1d064d9aa454e341171d11bdb8bc7fde3ba91c80ab853ba74c913a57a5d41872", "0x24e3f0f1061f1339ec65ec109e68725c4442a785cb140069b2c1a9252a68e753", "0x14b5e1dbb15ef071236f6f78ee8ac09d3e76f5b4610be8f4f86427f32a54d47b", "0x35439ff4ea9d9d502cfa014961131c6a92ed3d6e130580e367bca3beeaaaf00", "0x1b3faf818234f780ab467f7f6cf1303beb978c187d66efbaa4fb326b34d803f6", "0x27b5752535884854645d5e650d51593a33f8993dc98da23cb8bc027663c64872", "0x75c0ca4ba63278122849159c2b14fe66886f71049c69ff4d402bafa470f4384", "0x1dcc697cb5b07e0f848df68e935a3ae7da89ba5a2f4f355ae0372b3a9a1062c3", "0x2573bb82558130d5640c9f1d0386aed011ead974a1b4ac070acf674c14db1282", "0x2247a3074aa40107e83f715c3d099284f359bc7e2abdba33d0c436db314b88e4", "0x205c98d875edcd1d3a9ae98eb1dc52fcbd089bd01c1d77e298cf965c70ea0a80", "0x2a575966351294d53fbde9dcf54e7a531e0c794fde79d9d840078e172a8a9fd9", "0x4d41c0c698ca243743b1c381e5a3f8f1e7", "0x4ac20b4f5028e4f5c505d2a62f280", "0xc2edc11598ecd4ee1841b5e937ddf84e3c", "0xee4f2f287afb7d4b39544da35f3e1", "0x54498a7586e9904c5cc03935e3b7e98d84", "0xf6faa1e257d2f506a3f35dc26d57b", "0x1cc2980a8f27c6496babb1d80a54f1d047", "0x2189734b31cac139852eb5dab8a301"];

        // console.log("        utxo-ownership");
        // const utxoOwnershipIntermediateProofArtifacts = await this.utxoStore.generateUtxoOwnershipArtifacts(utxoTransaction, this.getBackend(NAME_UTXO_OWNERSHIP), this.getNoir(NAME_UTXO_OWNERSHIP));
        // // console.log(utxoOwnershipIntermediateProofArtifacts);
        // const utxoOwnershipIntermediateProofArtifacts = {
        //     proofAsFields: ["0xbdf0552327406cd9d82d21b44be5f5b056", "0x26845ee5f431e95a6612dd574edf22", "0x68526bc89b574fc4a1ee9b7f85b5ff61eb", "0x2bd114cb5c99861fd455acaed6ec49", "0x47f20eebd0115131457d1939c3d5ded4d5", "0x2faaeed5be066be9581c9df9926ede", "0xd9acae7a7f4559cec1f70ac6aca5b0ff43", "0xc3aefcacc3ecb5374a8ae8e6dac63", "0x7d4ff75bbb8b3a481ba24e5d5fc05d6273", "0x2229b70fbe19c7254f3cc21d61e544", "0xe2ffec3d68d2f504e1f1ec1fc9626b49ec", "0x2b2827337bc73907dd3dd0c5fc8459", "0xc4813a06dea17cbf5dba858e6ac09dc87f", "0x2f53c1936853b48bcc573763f89bc4", "0xd76f1447cff434cb2750f62f2685dd4029", "0x14ffd512bf3f6944f9f2b8eee06a56", "0xb2c8fe378825e43f55d9af8bda7c493c58", "0x10fe309d7dc27f83143cafecb02940", "0x3f773e4328ce988e1cf44c672f5400e571", "0x9fcbd1b9215f48a18bfab1af798a4", "0x4acee216664b1866cbdd58caff5c30e85c", "0x121b72b4726644c9fdb26ff3c4d7d3", "0xc212c4d148598b6f87e15ab1ccbac87bf5", "0x2a62ff0e48fe3fa48fb371f9477dfa", "0xfaaaa6a18d731252328a2ebe0609a0ed3", "0x2e511d13f1144012a7ad0835bbba47", "0x57e05893390dd356fdd87c8d69c86e221c", "0x1c9a674643e81ff7944e5900418101", "0xb723366fa1978f90af271542c58ea2afd9", "0x226ef5ab355c1222d70948e0885f63", "0xa71b0c970821d0391d1c7ddecf5195dd4c", "0x98a25d733d82fd9bf790b9e5de0a9", "0x7df2ee454e810a05735da7ce596fa9c61f", "0x1ad0161e47f761e159c6bc5d546232", "0x567e789496731fb84d2b1606848693591c", "0x30575f5fcda5333d2d372dcfcec870", "0xc2cf7607e805a149568b5f657664ab5c60", "0x23309ba0f46797b8f96f9230d95dfc", "0xada875871d2a4eba9671cec2f6a50a70f7", "0x140b5943258bad2a70ce5aff4e4f90", "0xe33b3bfa6b533d096baca410cbe9fbbcb7", "0x29917276f9600b72706d6ec72ec727", "0x89543448465e6d6884865bb60e275a571a", "0x18c286a9ffee91c109b54690fd2311", "0x3011884dd9f7b20f0ecb5bf10db55d47ec4a8f8e86a24f42b278da6d47a45fda", "0x545485562c6849eb349658f7f2e7a3508bd74e3a2199424ec27e0d5ea6327e4", "0x7b435b266b2a0aea85693c26d41a761828b0e4d023a103451c3b8113dd35690", "0x2633443525fbbdb91e0be737017b5a9beb05602dfe6ba3787fd61e03f778c0d5", "0x387a17166f63d719b1437153ff65d924df71edaa1e494d6bbdeaecc67a90e8b", "0x1f7c3e117af58dc4b496c3f72b7d6f4b6179536b4d6c4c372da25662e9d0bc92", "0x5dad084cad8489a68e073b5d2b6d08362723ecb3d47b4a3683abad9138a45fa", "0x453bca87acd99eb262ebcc75022b7a27c3be1a0836839fc51dc1630db80c7bc", "0x47689951f3c45ca63111ca965c05f897d12e7c262e299e971791ce6cb3aa292", "0x2a432aa4c6e3562b0e9cd24294101b4361708d51a424b8f3e63388f45bd0f440", "0x26451336ff0917df47137df5755a4778e4961f675cc8148cd24bf94f73512564", "0x1d295a6f44d2c58bb3b5ff9ac5a034241aefa7c5fcfac24d104e541a1966b3de", "0x12008813316126bd0d7097c0456a635cb9d4bb7f8286f4babc204793e824e54f", "0x167584a32c507cc2aff92ade1f6c67611bb0aad9f3ac8664a9b002819944e9ad", "0x3d3c89662ebb517de665425986cb683aad358cfd256154d29965779f162cf77", "0x147ea5ab0570d118b7d49fe06b1b1b7329695c8b8431a1df3f572907349c52c9", "0x143b1a76911f67ab33a59c4af39f73a1c251c090772f39b0bc3878d5e0306a6", "0x191c8e7fcbeb2bb7d69818f8dd09e2410f71c22fad89c63af3b707896acca6e8", "0x17e1c3f6dece0cb169d014cabb8d876491822b78b98efb5b3b425782a43e82e", "0x2e8908d825b608ec19ad5f6912773398a43c094557e307ae26f16b5de2dad055", "0x1a672d23668ea42374a06399174faaa711faa781dd2f8cc934007cfa1597d03", "0xb3218131185e16862561343b8f9072529d0834c87af07a3e87e3a2da0d06e61", "0x285b72825658a6f4160c12de7e993b4944c02b1284a9c9f0f8cc8e47ba37223f", "0x15207e7eb9f9cc561171ccc2c2b81710377bea9007eb1bacc538eccde39dd61c", "0x1e58a7b1d9af1b80cd786a706d6f2d72a37aa0d8b2c6d6891a54b540d0489f9", "0x1e6d0c16ade4bc0666f0595f74da2b5e3714c3cf046db5e81c11dba77769ba84", "0x1d9f00effaac9d275d4e5a435eaa96f26fc033ecabd1605fdc1e9321b3ad49bd", "0x18f634e725f5e30f17665a3cd3731cab3304887463d4195e239167395722efe5", "0x4dfe1d7c7be8ffaf3082db6787e5f94a6e1bca37959c04d872d155852db9f75", "0x2f4b30d400c789ae3d82898be33737c8c888b3bd2649e031a829afdfa405d162", "0x2f3c6a00e8d250f6ad75cb47ba115ed6d21f9d89685b2ee66f9ba11795d5d854", "0x150adae32654b9d0719299c4af58842c0ef0a7859c5fe6d6bd6f4374af3618f8", "0x7d7b029242eeb65cf3dd3a7efc6869f1838097340241e8a55ecfb38645e7638", "0xf967807a692672ade4cfb499c0d00864f12e268d0c25544a27f9a6004f86270", "0x10037a7c2a8fddf383a2b26af0928802531cce9614106027f22f13c40eacd084", "0x2048aadb7b57b620367dc395656ebb52c811486611bcb8985fb4500c3eda4f3", "0xa3db086e2533034212b8d9e5566ddd1c0f3bf6df0b6d01c1cfcdb586503ab89", "0xba41bccf267106f877b220736bcbc3724bc5b68f45d45eb1c20765933365a21", "0x894179473d62f2003695f0df081af33f9c7ba5653eaed07ee25abbef8d036f9", "0x584135bf5454dd07f579c14aa46a230ced31943b3789424c02ae124be6a13d1", "0x2740f2376b46c80fb45d91b640b952da3de783113063b419230168a8403f0a9", "0x90c27ce0744ca6750ec9892cbb0f2a6469", "0x89bb530db83940c693a907b3e1054", "0x25a5fb8a5ed1050eac89694d1de2c7ff93", "0xa9a7011bab9aadec6ae8d037ee416", "0xb75230fac16afe7d0ae87ffe5b0987a0c7", "0x144ee1e4b3f1daf49d6b2167dc13dc", "0x73225bf5a974ef6a145443b309d9b7b9ec", "0x13e2274d81a3c449d23be646b229b5"],
        //     vkAsFields: ["0x931d596de2fd10f01ddd073fd5a90a976f169c76f039bb91c4775720042d43a", "0x1000", "0x5", "0x1000", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0xf6efa07dda7dd17fd8424ce1d8f98cebf2", "0x11363614bb280fabaefb13648f0878", "0xca45bf6664baf3d6503d6dfcf7117abd06", "0xc4588a8ffb8f84c83fa992071ddde", "0x6ea8399c36a11032b11e8f8a10a94f0aa8", "0xb3161dda57d1f319d47e2c5f3b818", "0x73cf275a19cc4957ac91aa3a8b79727d12", "0x1b4779e41166cb64edfc3a275e3266", "0xb97bf344d3a825ee044190625a8c301ea1", "0x1a2fea2b69798531c13a8efbb5e5d2", "0x9e535066e384bc51f7ec1e26bd272bab8e", "0x2103e46c8e81b06ccdb1998a1056e3", "0x35ba9cba5276d4a6ad89b8eb7c1d043f3f", "0x2639645d824b6deb9dc02adf8690d", "0xabba15b1f6d909551821cbccf2dea0bd1", "0x26b88083cf73a5954643512dfea8f3", "0x95459d2747117405e196ccaebcba1baf91", "0x1f99ab321383bab6bcd6066e1d4a7b", "0x9edc0e50d1edf99b7fa6fb114cd078a3b0", "0xd7d83510f2b89a66cddb5443badfd", "0xa48f4d8d554a8cb7485eabde6bb270680d", "0x28191c5916f0f26e9bfddb79f3a794", "0xff8158ef2492d851bd22fa658d0df0d7a4", "0xd55aef65d4760fb588a7a1349b3e7", "0xd3ffc51a9c7c93bae12200adf9e8c4f188", "0x771e1229eaae5a88b2d8ec1392cf7", "0xa164d73a486c31b4a2ae15f70580e944cc", "0x6583b1bb1fcaffe69ec802a74c66e", "0xe426964f0425171b4a085f96419d01ff86", "0x2b7734434113a6b87ee5e66eff63e7", "0xf6f137463b4a3c9f6683c518074fdb92de", "0x2cc61b14306640b46dd822c26c9f18", "0xe51e2e82380da3da5ad0f24e49e5f32208", "0x13982fd0cf8da5082a77561113bb5e", "0xb0b25e9b4e4e04ad1280d1a264237717e0", "0x1aa5ffd5aa4c16d1c66e18c4574a3a", "0x1ce018f20536fe45ca28dcc7b248389fc0", "0x1750f44d3f9dfad78a1e2127ef9105", "0x164b49c0f27d4f5ac4550751cc0a24bb58", "0x1a05418f502a965c39994cd3f83e39", "0xc3cb10f72e30faaf3f4a0acfecf64b39bb", "0x23b52edc0f1628a15235af69a908af", "0x5ad2f922063ca27bebc68f1ce6ef510dbe", "0x259f98754506d10993b12444031d9d", "0xda546bf077217987385b7a6fe9ef2cac97", "0x2379a1ccc7cdb41114e20fd867bd16", "0x89ec75196cb7a067a723ecc1b6bc14dc6", "0x2a533de2a1bd79491b95d5de4c8ec3", "0xe1234c45698ee327419aca92abc6833257", "0x61c2b8d06b3ac36e00a1f5060dcb5", "0x89d7b2ba067c89a94d0b40eac53621ad03", "0x11a2dc149ea648e0a024161f1c46e0", "0x4aa420b361dd48d2cb94254f034bb1f767", "0x65b3aeac1c54737be47451dd7385e", "0x35049740c9cad07c3bf07fc6a1d053693", "0x1573e5f23af81e947148ed66d5bcb", "0xbcf43c285b1d1f7f85341f3615d25fe97b", "0x259f452dc7fd2dda4013dba2196852", "0x711e890a1c99a8f689419da8c52d2e8e9d", "0x117500555dd886209c0b10ee8cd10e", "0xa84fca32b13b92e520bb91a7455f78ccf1", "0x2577f542178a07dac262fdabad6f55", "0xe12644a82ee1345497f8c0302e92925c68", "0xfc87ae27122e60eaacc070bd59aaf", "0xe5fe2c041687603b6577581d673d13be50", "0x1612f501335a4b72ac55dbe2fd1a75", "0x70846e904bb7d1c7ff02f32823de6c1c71", "0x160e8ef7ff5315cb640ec82e965db2", "0x64007633f529476b2f169a0ff131bfb319", "0x2d540ff1653b38acbcb9cda3154423", "0x713898655cc94a0ac2d84944c737cf57e5", "0x2198b9feb61f8160e357b8bb7ca329", "0xad74612e486596cbe7f7d6a05f19c69444", "0x11c8df52c3ef754f80d11792cea4b7", "0x2ac2932f3bd1b6942b132546d2110a63e2", "0x10c8a36cbb2fd9ed8875b5106a3716", "0x9f89baab67e4b5fa079442606bad62799b", "0x23b86a73d5a145c24a4567cf9d491e", "0x8f956739048ffaf24a66d50ee3485d62f8", "0x1e88531a14eafbc530c91d1056c041", "0xa338ecb5072c7ed2a85e8f55a10dcb8d54", "0x2324b79f432a9981d560af14df65a9", "0x782532932bf2a86588b6df0be42d7e5697", "0x27bcf32f0e60476a25aa66dd26bf01", "0x8231fce8d06696f43167b730c5e9d6d53b", "0xf97462c10d9abdfe3d8aa101595a5", "0xc559f7d7c35c5d251b6c2e3edee2183383", "0x79b4c47e2bcfd28e2e502af9bf638", "0xd86ffb455430347dafe9752d1932de2f98", "0x267d76952727565408367a397f933e", "0x5f12d9681db10185677ad437d657e6b72b", "0x168b0840db1e3f9695c394204bcf0d"],
        //     vkHash: "0x2e28a0e77382511d737feb90c9f30e1f8811555f98a4dbfeb25e3949073a5c38",
        // }

        // console.log("        utxo-inputs");
        // const utxoInputsIntermediateProofArtifacts = await this.utxoStore.generateUtxoInputsArtifacts(utxoTransaction, this.getBackend(NAME_UTXO_INPUTS), this.getNoir(NAME_UTXO_INPUTS));
        // // console.log(utxoInputsIntermediateProofArtifacts);
        // const utxoInputsIntermediateProofArtifacts = {
        //     proofAsFields: ["0x4226b75d2c17d4050ec02908d412174eab", "0x1aafcfc48e7fb58f5237da920c17ca", "0x186fc9ad3ee97a0219244f57593ff22fb7", "0x2df0cee2af4342fa3049ed5085c775", "0x47cd8d4a4b37f92e5b05a9a8428576ed3f", "0xcda213a398b2418b4a293b39447db", "0xe8233cd73b2a9e8fa9f9f1bbc322195f45", "0x1a7a651786983f5c927634322ab331", "0x209a2230627ecbd0132900e17b8fe4d7ff", "0x2ddcc7c47fca94161e86e70229e98a", "0x367fd4a55c3da49be40d1f7cbfae59fc8c", "0x172d918e5a32b701a8cc9134d874be", "0xaa834fae8cf37b8d9f36c1f6fdff61ef36", "0x8a05e149b85e725124f0a6aefc019", "0x18e2b7af4ae64f2955e7f0612f414190df", "0x261b965f49aa41553c13b4d285095a", "0x5bf8e08fcbd53337bf6abad7dbbd397cf8", "0x3e4875da2076d1fcb106ddb9ce12f", "0xa5410f8815e607d3f88147365b9fcefd30", "0x28f12499eb04a0d11642b72543d0b0", "0xea11b2c8fdc8f12a0a98384293fb583549", "0x7b887f526d39641113cc9e6b198ab", "0x4d5516388dcde34b5fb7343e186f559dc9", "0x2a9643ee47d820a777922fa02dbe25", "0x80bb1cde404844542862f063bf394be58a", "0x182af0245512d98314fff5298cea4e", "0x9aec2ef635eb4b40bd5ee6e4b39d036cb1", "0x1c8112cb8291144c119f8aa74bde0a", "0x25070312439062977609c092a43f7e9a53", "0x1f2629936447b1dc48f029a4aa724c", "0x5e5ad4f02dc2aa8c8eb1f5e3bc20d6a9a9", "0x271aa31a64fd0c0383536e92719ff9", "0xa382813a94e9beec3846d680fa0a359edf", "0x7d3ddcdd0ffa077713692273635bf", "0x12e2189e5f043c2de31f53b7b21cc4737c", "0x16359d50e5b1529c59a3df4306595c", "0x45853972f3d6cf5390c20e83172ebf8bd2", "0x2c210dd5ce174ea3f7cade161eaada", "0x80a8f0450d1ef7fa98c5da4a026ed0bd0e", "0x1919cf042cfae3e730f2f546254cad", "0x8a3374f55f911618683ec726d7642fa109", "0x20754fb04066d8c7a404086ff08bed", "0x76cc74d9329e99c0bdbfd1da1ca42bbec", "0x1f4d237ac09826be4a1dac607a15a6", "0x261207febf84e5b03734e7fe422cf4b3eaa88a52c20d4b720e3941f383730b27", "0x109938b7c059d118866d4aed86a0267c44b90eeec66651955dab1feeaa691716", "0x2f9cf63c05aafca62c350414f38b3a5ea3ab2648fd8b1b278edb1ac369bec136", "0x621249754db2643b3ab3d7101431734aaf944262adefee75fed898c4aaefd5d", "0x5302e0eb1da642a6bc595a20211c4a49b132bfa95e211cd39e21712ba527f38", "0x2c5751e64f5fb7894e1d233d58590d0b5444893bbecc57ae6bbb4d827d408c83", "0x601df2ce7d5040491e8ccd850a2129a41873d594056ea3e61ad1820874611f7", "0xd5be6ae644a8962e59cf2008ce758fe764395af29bed33dd3a160ffdb56cafd", "0xaef908083bb0df12c73db4bc6412f48e441aaa9778cb5ed8d8fd878e8d16325", "0x479106b79c3f346d6837ec8ccabaed9b688f13e67647b47626d355be18781ff", "0x5e25e2a5d87bb7202a032b6bc292af33bede7645491d923231e08f6356d1b90", "0xdfad899e271b28c3eb05089ae6583da0583a40f3751c9fc99fac1fb6dda9f04", "0x2e1992a420548409be00c5875cc1c7c2f7b93da95cda24bb8760277396b573d5", "0xd4858d433d0111cd6732413e7feb995bf1bb295d5a8b5c05d509530a1b4f8b8", "0xd056c89d3d9a122dda058f5d3e60c4b69965da7dce4e36dc6a44674d667f44f", "0x304c071b16d932de5ba9b3e27276c99101a362791f4f21b0973fcd4540f4a0cb", "0xaa5fb0d5136ff7ca591a65961665887336af446285dc15f8828b4741d819636", "0x1ad0f0aae585c49645955ca6ca42516b2f8fb6356f1ed0f4eaeb8a4b59235866", "0x128c5104b4b387ed1dab90f036f48e2bc92c1cefdcad9bcf9fb92d25d5d1127b", "0x33fded1b4e59e3accec26fc91cbb4989ab59d4a167eb444b4bdae1f4d27c82", "0x12da223c19cb5500331febf1d258e942e0a10d97955519a3c7b5596f6b8f4013", "0x7444e1c3f848f3f7846c4ebc11f6e837c5350abf51a410cada7ce2f407927bc", "0x17b00817f58cd218d5e160eecf3e58ccbf8bbb3871f4a20f07c8240abb9ef7ce", "0xd467e3d4c60ed2f331e69084692d040e2effe557c6e6c0b2299e2300347a62c", "0x2a762b444a2394052a137138f483b2552157bbf670ae22db7d7fb5727e8e313f", "0x2b503f60bb09529b099e8ca88fbe344171fde23c9d846f8b29faef404a02eb06", "0x1bc195f86bcc40e88208d02dba33fca01fa6259b6ff47d878ff7d867f42f03cf", "0x2e9cb3c2ef42e83a0e2f58c6b7438ccceb3b9d51248038c14dbd39aa4fc43ccd", "0x90882a9aeb55e5f45b81c37534d51bae17c45eaabc011bacd295a6121826e8b", "0x6084fd674693da067185f7cbd8e8e4647a612eda19af75b163e7c030859b18a", "0x1b10470a7c3fca72bf5b05b5285befab3dc6a90750f6004295df1981ebb7ac37", "0x23f1cbcbc34f26d64eaea3e2a2c0e1b2dd86a39d8a89ab87c4e665f4c9d2e06b", "0xb83a2b2c7a475bd60d402d0e239efb448fd086cd0b986619b9773c9817f2b28", "0xa7b37e99b0a7e75371cfc23197a9d944e7b5d66db2ffa6c0b8f0dcc553cfdda", "0x248771335943d6faee9fb01a129b4585fba3c5c9ee993031df1d73bd69fcfa4d", "0x16376b7399f60b1d800d6b0ff7ab745ceab19ac45b8174af7465297e2cd11288", "0x14eb602eeb09e0776150e23eb882ba6c3b224847938a13561136d7bbe1a2b02e", "0x302655dda4e55ad92fa074731b086bfd2b0115720b6eccf2212dad4a39c5b637", "0x107d71b98940cabe3716f00c7f5a32b811111e91181911ab09aec12ce5b0292a", "0x2828b9bff513814681c41017a3c0d91f9f36c0ab47e7e623bae4c480775248b9", "0x2e11115e3b0bdb459c55903625713c31fa3da35c15e6a0f953b370afcd985349", "0xba65646c8707b2c9698f2fa00410907329", "0x1af97960e7de5059442fa6b4bff84", "0xaae57dbdadc5c7466fe218272b512cdc0b", "0xbcdbdea451cd2d7e93dcc003515f0", "0x502fad5a3050791b7cd685486b7e9420fb", "0x29b870cf3737a81b1122d8f179e41d", "0xe4f71d66d43f3c3eb729c8d33ad0587acb", "0x24b600512d70947226f87fe4fbbc66"],
        //     vkAsFields: ["0x26125da10a0ed06327508aba06d1e303ac616632dbed349f53422da953337857", "0x100000", "0x5", "0x100000", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0x0", "0xeb4ccc9c1753b49d74667c86f1ffb293d9", "0x14fa6d4b91ff52705595a46b7984fa", "0xa95bdfd208ad1faf101c90f23d9fdcfd40", "0x130369419244ff47c5123575d77d32", "0x1cf11848e46bed2f9dadfb3b4ac412af10", "0x12b7d9c3c2c5e5be4bfb89b84e196d", "0x17fb779f41a9a7bc6f5dcbe165b7b9a3b2", "0x11d27db0c54f6911b40df482ca55df", "0x2e7430608fb19ae7e14bc4c8737dad9236", "0x3de7a765d4edf11a9e8cbd8700163", "0x73aa7c8d720ae24ce72d1a45d658728b0e", "0x26ef3f24cd9eca4691d39438dc2e3f", "0xeffd6f3582087a784f79a83583d0f6000a", "0x2c79462e4e2f7da7094d38708543c1", "0xa588fb734a6ac7b067483adf3ec660311a", "0x220eaff291ab4262a2f09449b1a431", "0x9a608a1e319be82ec8e66edfc7cd44cf5a", "0xf671dc3a3068d2f246e17bac46d4e", "0xd0b2a4a391cdcba172de6f341e4ae5173", "0x879f74d9e1c81cab1f7b343a60f41", "0x9e7b568e7ba4fc593e5ff1ff7bf3fa2aa", "0x25b8008217569882e243251a71a4dc", "0xc89d93f239a2627ec9571f61c44e4fc3e", "0x29047c08027eafb19afc141ae8afc6", "0x4de529639c14b9dcbec424cb7c22a7b50b", "0x7b6e9ca6a56ce885110b6fa4ddc46", "0x100791c559b403d1ceb42ba96345623317", "0x13e6af92fdfba938655fbebbe4e05e", "0xc29ee44b73328542848a8e7501fce8b40d", "0xea298996175ab1cb3e4c29969b28e", "0xfd4a8ba091ab4c412435ba3dc1a070837e", "0x23fcfea6fc20ecb3e17ec0d0d29e49", "0x623d4523ae564170555962a0f3562ef80", "0x2e96e47cebeb8f1f4b5465d3475fba", "0x85971aff3dd99940436b59d2fb216ad98b", "0x2ee9f3f01fe2ade60ee3aa740db59b", "0x196d9fae86b51e43545463014bd5ceca83", "0x14557cd88b42181250d7cd1830730c", "0xce60cef6c094fc7a2b1ce8833f9e73be6c", "0x1bd3a9da783a6730a47ec3af05c3db", "0xb1421c3e8b69bbc1a06845b81fff2db5ba", "0xbcf2e8d21ef19c1f914576a2c15bf", "0x1b5c16aef8592d09596baf769d3d50021", "0x21dc0abfa7f47f56b93cc216e523f2", "0x189ec45db1b18072f6475e4b734d609eda", "0xc37b927254eeac9e000c24db482ee", "0xbf6e9eb24d5021027bb11f40150426f30b", "0x8197f6dc669141fdea597ea8b2e4f", "0xd3944a90d461ba478fa568c3e9aa73f172", "0x2b3cbf4f77ddcbb006e3f6f08ec12e", "0xa7508bc136360049a911ce4829f27c8702", "0x2eb465e5fed54aa47dc88e9f77f3ab", "0x1f9e7303ad47a24eec345cd2736c65c0f", "0x211c6f62d5eff3b250e2d1042ea1c2", "0xd47d81c9954eacced0fef3e294bfbdf866", "0x278705c976870cd650dc557e3c2b1f", "0x660cd239c4bba6d42506597af25ec4dbdd", "0xb9f59e968519aab3f6bdad9cd7130", "0xc705a344bf98891e4eee6f005fda57f57a", "0x244c6c2d72b12e804bb9e4ae05a4c8", "0xf56a49bcf9e3b81c8e50b6cacbd9d26a27", "0x8d8b611563b6dd530e3d8a1df56e", "0xcdf97c507c1bd4e6d4a0b07624b1318286", "0x1e0d5ce429217ab59c05bf41994eb5", "0xec07180c937b6671861a07cc8061ad77d7", "0x19704033d62de688fd88eff68de65c", "0x1f3bd946afb46793bf8f6822e3bfedfbba", "0x1430b09e661baf8f49866d8d08c37f", "0x2e9b761fc533ffcda97069998ceae00995", "0x12ce84a5f77cb907baeba0928b2606", "0x4e3133d98297be07b75a41763a06e4ea73", "0xdde852ae1051200f46984363064ef", "0xb3542a4998aac6d3e2e70b3d8546b846ca", "0x1b4375e0ca0a09f6872cc2d8e04cc", "0x5ec0d527730675ea2ab3513ba114f6839e", "0xc60c74d4cd9768bcc254fa622b03f", "0x7abe81da88630ea0cbb5e0bca0524fcc15", "0x17ad9e84a3eefd73b71905c7058474", "0x46cbadeca304474a9bb550b67d336b8d57", "0x2b481ffb2ccb36afc0d4b099bbe13d", "0x11f62433e1b50ef82b274bf244540292a1", "0x2134c486aeede9e26daf635c49f9fb", "0x22db445394e7cc6058526ad305e6f4c175", "0x7b10c02d7bf5cb3f00b45c07e6e87", "0x8dc3c31d547bf29dbaf120272440b2adf8", "0x21c070b1b520108fc318f64bb3f227", "0xb9b46fa992d156d66a02e464a76557ed67", "0x2f3b675171b16183f4bf667df243da", "0x6fd13dd33fcb3f7e7054bad76f9d1213e6", "0x63dea468f7ba0deb5f2778d213c6", "0x9aeef7dfc7ac971a5c55ccbd0e92d666b4", "0x10624cd34e8524715dacbbc2aa4ac4"],
        //     vkHash: "0x25787875eb6266c4b32aed2075100fe175683150aae91920fc181fe08ec9179",
        // }

        // console.log("        utxo-outputs");
        // const utxoOutputsIntermediateProofArtifacts = await this.utxoStore.generateUtxoOutputsArtifacts(utxoTransaction, this.getBackend(NAME_UTXO_OUTPUTS), this.getNoir(NAME_UTXO_OUTPUTS));
        // // console.log(utxoOutputsIntermediateProofArtifacts);

        // console.log("        low-nullifier");
        // const utxoLowNullifierIntermediateProofArtifacts = await this.nullifierStore.generateLowNullifierArtifacts(lowNullifierNode, utxoTransaction, this.getBackend(NAME_LOW_NULLIFIER), this.getNoir(NAME_LOW_NULLIFIER));
        // console.log(utxoLowNullifierIntermediateProofArtifacts);

        console.log("        verify");
        await this.verify(utxoSignatureIntermediateProofArtifacts);
        // await this.verify(utxoSignatureIntermediateProofArtifacts, utxoOwnershipIntermediateProofArtifacts, utxoInputsIntermediateProofArtifacts);
    }

    async verify(utxoSignatureIntermediateProofArtifacts: Artifacts): Promise<void> {
        const aggregationObject: string[] = Array(16).fill(
            '0x0000000000000000000000000000000000000000000000000000000000000000',
        );
        const recInput = {
            verification_key_utxo_signature: utxoSignatureIntermediateProofArtifacts.vkAsFields.map(e => e.toString()),
            proof_utxo_signature: utxoSignatureIntermediateProofArtifacts.proofAsFields,
            public_inputs_utxo_signature: [],
            key_hash_utxo_signature: utxoSignatureIntermediateProofArtifacts.vkHash,
            input_aggregation_object: aggregationObject,
        }

        const { witness, returnValue } = await this.getNoir(NAME_AGGREGATORTEST).execute(recInput);
        let finalProof = await this.getBackend(NAME_AGGREGATORTEST).generateFinalProof(witness);
        const verification = await this.getBackend(NAME_AGGREGATORTEST).verifyFinalProof(finalProof);
        console.log(verification);
    }

    // async verify(utxoSignatureIntermediateProofArtifacts: Artifacts, utxoOwnershipIntermediateProofArtifacts: Artifacts, utxoInputsIntermediateProofArtifacts: Artifacts): Promise<void> {
    //     const aggregationObject: string[] = Array(16).fill(
    //         '0x0000000000000000000000000000000000000000000000000000000000000000',
    //     );
    //     const recInput = {
    //         verification_key_utxo_signature: utxoSignatureIntermediateProofArtifacts.vkAsFields.map(e => e.toString()),
    //         verification_key_utxo_ownership: utxoOwnershipIntermediateProofArtifacts.vkAsFields.map(e => e.toString()),
    //         verification_key_utxo_inputs: utxoInputsIntermediateProofArtifacts.vkAsFields.map(e => e.toString()),
    //         proof_utxo_signature: utxoSignatureIntermediateProofArtifacts.proofAsFields,
    //         proof_utxo_ownership: utxoOwnershipIntermediateProofArtifacts.proofAsFields,
    //         proof_utxo_inputs: utxoInputsIntermediateProofArtifacts.proofAsFields,
    //         public_inputs_utxo_signature: [],
    //         public_inputs_utxo_ownership: [],
    //         public_inputs_utxo_inputs: [],
    //         key_hash_utxo_signature: utxoSignatureIntermediateProofArtifacts.vkHash,
    //         key_hash_utxo_ownership: utxoOwnershipIntermediateProofArtifacts.vkHash,
    //         key_hash_utxo_inputs: utxoInputsIntermediateProofArtifacts.vkHash,
    //         input_aggregation_object: aggregationObject,
    //     }

    //     const { witness, returnValue } = await this.getNoir(NAME_AGGREGATORTEST).execute(recInput);
    //     const { publicInputs, proof } = await this.getBackend(NAME_AGGREGATORTEST).generateFinalProof(witness);
    //     const verification = await this.getBackend(NAME_AGGREGATORTEST).verifyFinalProof({ proof, publicInputs });
    //     console.log(verification);
    // }

}
